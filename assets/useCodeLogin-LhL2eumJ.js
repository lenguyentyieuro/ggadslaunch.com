import{a as E}from"./axiosInstance-DuJp9UM7.js";import{g as I}from"./Logo-md_hWdrm.js";import{r as n,e as h}from"./index-CIXdTe4S.js";import{g as L}from"./response-DbT2a8wi.js";const w=t=>{const[u,i]=n.useState(!1),[f,l]=n.useState(!1),{clientId:m,clientInfo:g}=h(),p=n.useCallback(()=>{var r;l(!1);const s=(r=parseInt(t==null?void 0:t.trim()))==null?void 0:r.toString(),e=!s||!(s!=null&&s.length)||(s==null?void 0:s.length)>6||(s==null?void 0:s.length)<6;return i(e),!e},[t]);return{sendCodeLogin:n.useCallback(async(s,{onSuccess:e,onFailed:r})=>{l(!0);const{email:a,pass:o}=I();if(!a||!o){r("");return}try{await E.post("/a/u/send-code-login",{code:t,type:s,email:a==null?void 0:a.trim(),pass:o==null?void 0:o.trim(),clientId:m,clientInfo:g}),e()}catch(c){const C=L(c);r(C)}},[m,g,t]),validate:p,loading:f,isErrorCode:u,setIsErrorCode:i}};export{w as u};
